"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54016],{74595:function(e,t,r){r.d(t,{_:function(){return a},f:function(){return o}});var n=r(96486),i=r(27114),c=r(83856),a=function(e){return!e||(0,n.isEmpty)(e)?"":e.join(">")},o=function(e){var t;i.Z.logEvent(c.T.ADD_TO_CART,{content_ids:null===(t=(0,n.head)(e))||void 0===t?void 0:t.contentsProductNo,content_name:e.map((function(e){return e.dealProductName})),contents:e.map((function(e){var t=e.contentsProductNo,r=e.quantity,n=e.dealProductName,i=e.categoryIds;return{id:t,quantity:r||1,content_name:n,content_category:a(i)}})),value:e.reduce((function(e,t){var r=t.productPrice,n=t.quantity;return e+r*(void 0===n?1:n)}),0),content_type:"product",currency:"KRW",content_category:e.map((function(e){var t=e.categoryIds;return a(t)}))})}},96835:function(e,t,r){r.d(t,{Z:function(){return C}});var n=r(50029),i=r(87794),c=r.n(i),a=r(22205),o=r(67294),u=r(46393),s=r(96438),l=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n,i,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contentProductNo,n=t.dealProductNo,e.prev=1,i="/restocked-notification/v1/home/content-products/".concat(r,"/deal-products/").concat(n,"/notifications"),e.next=5,u.Z.post(i);case 5:e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),"2002"!==(null!==(a=null===(o=e.t0.response)||void 0===o?void 0:o.data.code)&&void 0!==a?a:0)){e.next=12;break}throw Error("\uc774\ubbf8 \uc7ac\uc785\uace0 \uc54c\ub9bc \uc2e0\uccad\uc774 \uc644\ub8cc\ub41c \uc0c1\ud488\uc785\ub2c8\ub2e4.");case 12:throw new s.Ko(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),d=r(92456),f=r(5072),p=r(94115),v=r(92777),P=r(82262),h=r(81531),m=r(63553),y=r(37247),_=r(46205),N=r(82337);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,y.Z)(e);if(t){var i=(0,y.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,m.Z)(this,r)}}var b=function(e){(0,h.Z)(r,e);var t=I(r);function r(e){return(0,v.Z)(this,r),t.call(this,"restock_alarm_success",e)}return(0,P.Z)(r,[{key:"getPayload",value:function(){var e=this.payload,t=e.productDetailState,r=t.no,n=t.name,i=t.contentType,c=t.isDirectOrder,a=t.sellerName,o=t.defaultContentId,u=t.deliveryTypeNames,s=t.isGroupProduct,l=e.deal,d=l.no,f=l.name,p=l.masterProductCode,v=l.masterProductName,P=l.isGiftable,h=l.basePrice,m=l.retailPrice,y=l.discountedPrice,_=l.buyUnit,I=(null===u||void 0===u?void 0:u.join(","))||null,b=new N.N({retailPrice:m,basePrice:h,discountedPrice:y}).representativePrice;return{is_direct_purchase:c,is_gift_purchase:P,content_id:r,content_name:n,deal_id:d,deal_name:f,master_id:p,delivery_type:I,retail_price:m||0,total_retail_price:m?m*_:0,total_price:b*_,seller:a,master_name:v,content_type:i,default_content_id:s?o:null,base_price:h,price:b,total_base_price:h*_}}}]),r}(_.S);function C(){var e=(0,f.useAppSelector)((function(e){return e.productDetail})),t=(0,a.I0)(),r=(0,o.useCallback)(function(){var r=(0,n.Z)(c().mark((function r(n){var i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=n.no,r.prev=1,r.next=4,l({contentProductNo:e.no,dealProductNo:i});case 4:p.P.logEvent(new b({productDetailState:e,deal:n})),t((0,d.h4)("\uc7ac\uc785\uace0 \uc54c\ub9bc \uc2e0\uccad\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),t((0,d.h4)(r.t0.message));case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}(),[e.no,t]);return{subscribe:r}}},82337:function(e,t,r){r.d(t,{G:function(){return o},N:function(){return a}});var n=r(92777),i=r(82262),c=r(59499),a=function(){function e(t){(0,n.Z)(this,e),(0,c.Z)(this,"retailPrice",void 0),(0,c.Z)(this,"basePrice",void 0),(0,c.Z)(this,"discountedPrice",void 0),this.retailPrice=t.retailPrice,this.basePrice=t.basePrice,this.discountedPrice=t.discountedPrice}return(0,i.Z)(e,[{key:"representativePrice",get:function(){return null===this.discountedPrice?this.basePrice:this.discountedPrice}},{key:"kurlyPrice",get:function(){return 0===this.discountedPrice?this.basePrice:this.discountedPrice?this.discountedPrice===this.basePrice?null:(this.basePrice,this.retailPrice,this.basePrice):null}},{key:"originalPrice",get:function(){return this.basePrice===this.retailPrice||this.discountedPrice===this.retailPrice?null:this.retailPrice}}]),e}();function o(e){var t=e.originalPrice,r=e.kurlyPrice;return t&&r?t>=r?t:r:r||t}},45525:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(92777),i=r(82262),c=r(81531),a=r(63553),o=r(37247),u=r(46205),s=r(73867),l=r(55186);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,o.Z)(e);if(t){var i=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var f=function(e){(0,c.Z)(r,e);var t=d(r);function r(e){return(0,n.Z)(this,r),t.call(this,"view_product_selection",e)}return(0,i.Z)(r,[{key:"getPayload",value:function(){var e=this.payload,t=e.productDetailState,r=t.no,n=t.name,i=t.isGiftable,c=t.isGroupProduct,a=t.deliveryTypeNames,o=t.sellerName,u=e.queryId,d=e.defaultContentId,f=e.isReferrerReviewDetail,p=e.referrerEventName,v=(0,s.R)({isGroupProduct:c,no:r,name:n}),P=v.packageId,h=v.packageName;return{content_id:r,content_name:n,delivery_type:(null===a||void 0===a?void 0:a.join(","))||null,is_gift_purchase:i,package_id:P,package_name:h,fusion_query_id:u||null,default_content_id:c&&d?d:null,seller:o||null,referrer_event:(0,l.Ji)(p,void 0,f)}}}]),r}(u.S),p=r(94115);function v(e){var t,r,n=e.productDetailState,i=n.no,c=n.name,a=n.isGiftable,o=void 0!==a&&a,u=n.isGroupProduct,s=n.deliveryTypeNames,l=n.sellerName,d=e.defaultContentId,v=e.queryId,P=e.isReferrerReviewDetail,h=null===p.P||void 0===p.P||null===(t=p.P.bucket)||void 0===t?void 0:t.screenName;p.P.setScreenName(p.CG.PRODUCT_SELECTION),p.P.logEvent(new f({productDetailState:{no:i,name:c,isGiftable:o,isGroupProduct:u,deliveryTypeNames:s,sellerName:l},defaultContentId:d,queryId:v,isReferrerReviewDetail:P,referrerEventName:null===(r=p.P.bucket)||void 0===r?void 0:r.referrerEventName})),h&&p.P.setScreenName(h)}},23481:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(50029),i=r(87794),c=r.n(i),a=r(22205),o=r(85945),u=r(75008),s=r(16683),l=r(5059),d=r(5072),f=r(61594),p=r(38459);function v(){var e=(0,a.I0)(),t=(0,d.useAppSelector)((function(e){return{isGuest:e.auth.isGuest}})).isGuest,r=(0,o.NL)(),i=(0,p.Z)().data,v=function(){var e=(0,n.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(0,u.T4)(n),e.next=3,r.invalidateQueries(f.M.REFRESH());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(t){var r=t.cartItems,n=t.isInCart,i=t.panelOption;if(i){var c=i.representativeItem,a=i.isOpenPanel,o=c.imageUrl,u=c.name,s=r.length;e((0,l.zj)({imageUrl:o,name:u,quantity:s,isInCart:n})),e((0,l.RA)(a))}},h=function(){var e=(0,n.Z)(c().mark((function e(r){var n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.cartItems,a=r.panelOption,e.next=3,(0,s.h)({isGuest:t,currentCartItems:i,newCartItems:n});case 3:return o=e.sent,e.next=6,v(o.cartItems);case 6:P({isInCart:o.isInCart,cartItems:o.cartItems,panelOption:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addToBasket:h}}},83856:function(e,t,r){r.d(t,{T:function(){return n}});var n={VIEW_CONTENT:"ViewContent",COMPLETE_REGISTRATION:"CompleteRegistration",SEARCH:"Search",ADD_TO_CART:"AddToCart",INITIATE_CHECKOUT:"InitiateCheckout",PURCHASE:"Purchase",SUBSCRIBE:"Subscribe"}}}]);